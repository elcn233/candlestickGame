# 游戏机器人文档：  

## 1.名词解释：
### 上分：通过某种方式，添加游戏中的余额
### 下分：将游戏中的余额转移到其他地方（例如钱包机器人）
### 文案：机器人所回复内容的模板  
### userID：TG用户唯一标识
### groupID：TG群组唯一标识
### 文案：配置文件对每个文案指定txt文件路径，txt文件的内容即为文案
#### 文案中可支持是变量：
##### {userID}：用户的userID
##### {firstName}：用户的名
##### {username}：用户的用户名（用户的tg账号）
##### {amount}：用户上分或下方的金额
##### {{"InlineKeyboardMarkup":{InlineKeyboardButton objects array}}}：Telegram Bot内联键盘标记（使机器人发送的消息带按钮功能）
##### {apiMessage}：api上分或下分时，api返回数据中的message字段



## 2.程序主要功能：
游戏机器人的功能：上分、下分、下注、开奖、根据开奖结果兑奖、每回合开奖后实时将开奖结果发送至TG游戏群
### 功能注意事项：
#### 游戏群的groupID需可以在配置文件修改】

## 3.游戏玩法：
### 游戏玩法分为：1分线、5分线、30分线
### 游戏玩法注意事项：
#### 上述任何玩法均需在开奖前半分钟封盘
#### 上述任何玩法均以开奖结果（ETH/USDT的收盘价）的小数最后一位作为开奖结果
#### 

## 4.开奖通知：
[开奖结果模板]:https://raw.githubusercontent.com/elcn233/candlestickGame/main/image/%E6%A8%A1%E6%9D%BF.png

### 开奖结果图片模板：（图片[源文件][开奖结果模板]）
![开奖结果模板]  
### 输出格式：
#### 现假设当前开奖结果是以2023年01月01号01点01分01秒ETH/USDT的收盘价格作为开奖结果
那么回合内的值修改为： 2023-01-01 01:01:01；  
结果的值为：1200.11（2023年01月01号01点01分01秒ETH/USDT的收盘价格）；  
单双：单  
大小：小  

## 5.命令列表

### 用户群组内机器人命令列表：

#### /sf
##### 注释：/sf为上分命令，使用格式：/sf+空格+金额，例如：/sf 100
##### 详情文档：[用户上分开发文档](#用户上分开发文档)

#### /xf
##### 注释：/xf为下分命令，使用格式：/xf+空格+金额，例如：/xf 100
##### 详情文档：[用户下分开发文档](#用户下分开发文档)

#### /bet
##### 注释：/bet为投注命令，使用格式：/bet+空格+投注值+空格+金额，例如：/bet 单 100
##### 解释：投注值分别为： 大/小/单/双
##### 详情文档：[用户投注开发文档](#用户投注开发文档)

#### /help
##### 注释：/help为查看用户帮助命令，使用格式：/help，例如：/help
##### 详情文档：[用户帮助开发文档](#用户帮助开发文档)

#### 用户群组内命令注意事项：
##### 用户群组内命令仅用户在游戏群内发送才有效，游戏群的groupID需可在配置文件设置

### 管理员命令列表：
#### /adminsf
##### 注释：/adminsf为管理员上分命令，使用格式：/adminsf+空格+用户UserID+空格+金额，例如：/adminsf 123456789 100
##### 详情文档：[管理员上分开发文档](#管理员上分开发文档)
#### /adminxf
##### 注释：/adminxf为管理员下分命令，使用格式：/adminxf+空格+用户UserID+空格+金额，例如：/adminxf 123456789 100
##### 详情文档：[管理员下开发文档](#管理员下分开发文档)
#### /adminhelp
##### 注释：/adminhelp为管理员帮助命令，使用格式：/adminhelp，例如：/adminhelp
##### 详情文档：[管理员帮助开发文档](#管理员帮助开发文档)

#### 管理员命令注意事项：
##### 管理员命令仅管理员对机器人私聊时才有效，管理员账户的userID需可在配置文件设置

## 6.用户上分开发文档
### 用户上分分为管理员审核上分和API自动上分两种方式

#### 管理员审核上分：
##### 玩家发送/sf命令后，将“玩家申请上分”文案消息发送至管理员TG。
##### 该消息需带上通过、拒绝两个按钮。
##### 当管理员点击通过按钮：
向玩家的余额增加申请上分的金额数量，并且机器人在群内回复用户这条“上分申请”消息，提示”上分成功“的文案
##### 当管理员点击拒绝按钮：
对用户余额不进行任何操作，并且机器人在群内回复用户这条“上分申请”消息，提示”上分失败“的文案

#### API自动上分：
API文档请参考[8.用户自动上分API文档](#8用户自动上分API文档)
##### 当API返回上分成功：
向玩家的余额增加申请上分的金额数量，并且机器人在群内回复用户这条“上分申请”消息，提示”上分成功“的文案
##### 当API返回上分失败：
对用户余额不进行任何操作，并且机器人在群内回复用户这条“上分申请”消息，提示”上分失败“的文案

## 7.用户下分开发文档
### 用户下分分为管理员审核下分和API自动下分两种方式

#### 管理员审核下分：
##### 玩家发送/sf命令后，将“玩家申请下分”文案消息发送至管理员TG。
##### 该消息需带上通过、拒绝两个按钮。
##### 当管理员点击通过按钮：
向玩家的余额增加申请下分的金额数量，并且机器人在群内回复用户这条“下分申请”消息，提示”下分成功“的文案
##### 当管理员点击拒绝按钮：
对用户余额不进行任何操作，并且机器人在群内回复用户这条“下分申请”消息，提示”下分失败“的文案

#### API自动下分：
API文档请参考[9.用户自动下分API文档](#9用户自动下分API文档)
##### 当API返回下分成功：
向玩家的余额增加申请下分的金额数量，并且机器人在群内回复用户这条“下分申请”消息，提示”下分成功“的文案
##### 当API返回下分失败：
对用户余额不进行任何操作，并且机器人在群内回复用户这条“下分申请”消息，提示”下分失败“的文案

## 8.用户投注开发文档
先判断先判断投注格式是否正确
判断投注金额是否大于余额
若投注格式和投注金额正确，则根据“用户投注成功文案”回复消息，并为用户下注
若投注格式或投注金额错误，则根据“用户投注失败文案”回复消息，不进行任何操作

## 9.用户帮助开发文档
根据“用户帮助文案”回复消息

## 10.管理员上分开发文档
